CREATE SEQUENCE SEQ_SUNGTB_NO;

CREATE TABLE SUNGTB(
			NO NUMBER PRIMARY KEY,
			NAME VARCHAR2(100) NOT NULL,
			KOR NUMBER(3) NOT NULL,
			ENG NUMBER(3) NOT NULL,
			MAT NUMBER(3) NOT NULL
);

INSERT INTO SUNGTB VALUES(SEQ_SUNGTB_NO.NEXTVAL, '홍길동', 77, 88, 99);
INSERT INTO SUNGTB VALUES(SEQ_SUNGTB_NO.NEXTVAL, '홍길동', 87, 31, 49);
INSERT INTO SUNGTB VALUES(SEQ_SUNGTB_NO.NEXTVAL, '길길동', 72, 58, 29);





CREATE VIEW sungtb_view AS 
SELECT s.*,(kor+eng+mat) "tot" , round((kor+eng+mat)/3,1) "avg",
rank() over(ORDER BY (kor+eng+mat) desc) "rank" FROM sungtb s
ORDER BY NO;
